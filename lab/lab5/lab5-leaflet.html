<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Lab 5: Generative AI for Web Mapping by Sophia Gerz-Escandon</title>

<!-- Leaflet CSS + JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
  h3 { text-align: center; margin: 10px 0; }
  #map { width: 100%; height: 85vh; }

  .controls {
    position: absolute;
    top: 70px;
    left: 10px;
    z-index: 1000;
    background: white;
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  }
</style>
</head>
<body>

<h3>Lab 5: Generative AI for Web Mapping by Sophia Gerz-Escandon</h3>

<div class="controls">
  <strong>Basemap:</strong><br>
  <label><input type="radio" name="basemap" value="osm" checked> OSM</label><br>
  <label><input type="radio" name="basemap" value="esri"> ESRI Imagery</label>

  <hr>
  <label>
    <input type="checkbox" id="wmsToggle" checked> Show WMS Layer
  </label>
</div>

<div id="map"></div>

<script>
  // -------------------------------
  // Basemap Layers
  // -------------------------------

  const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: "Â© OpenStreetMap"
  });

  const esri = L.tileLayer(
    "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
    {
      maxZoom: 19,
      attribution: "ESRI World Imagery"
    }
  );

  // Start with OSM visible
  let currentBasemap = osm;

  // -------------------------------
  // WMS Overlay Layer
  // -------------------------------

  const wmsLayer = L.tileLayer.wms("https://ahocevar.com/geoserver/wms", {
    layers: "topp:states",
    format: "image/png",
    transparent: true
  });

  // -------------------------------
  // Map Setup
  // -------------------------------

  const map = L.map("map", {
    center: [39.833, -98.583],
    zoom: 4,
    layers: [currentBasemap, wmsLayer]
  });

  // -------------------------------
  // Basemap Switcher Logic
  // -------------------------------
  document.querySelectorAll('input[name="basemap"]').forEach(radio => {
    radio.addEventListener("change", (event) => {
      const val = event.target.value;

      // Remove the current basemap
      map.removeLayer(currentBasemap);

      if (val === "osm") {
        currentBasemap = osm;
      } else if (val === "esri") {
        currentBasemap = esri;
      }

      // Add selected basemap
      currentBasemap.addTo(map);
    });
  });

  // -------------------------------
  // WMS Toggle Logic
  // -------------------------------
  document.getElementById("wmsToggle").addEventListener("change", (e) => {
    if (e.target.checked) {
      map.addLayer(wmsLayer);
    } else {
      map.removeLayer(wmsLayer);
    }
  });
</script>

</body>
</html>


